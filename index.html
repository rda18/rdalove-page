<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>æˆ‘å’Œè“‰è›‹çš„çºªå¿µæ—¥</title>
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html, body { height: 100%; font-family: Arial, sans-serif; color: white; overflow: hidden; background: url('background.jpg') no-repeat center center fixed; background-size: cover; position: relative; }
    .overlay { background-color: rgba(0,0,0,0.5); position: absolute; inset: 0; z-index: 1; }
    .content { position: relative; z-index: 2; width: 100%; height: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; padding: 1rem; }
    h1 { font-size: clamp(1.8rem, 5vw, 2.5rem); margin-bottom: 1rem; font-weight: bold; }
    .timer { font-size: 1.1rem; margin-top: 0.5rem; }
    .heart { display: inline-block; font-size: 2rem; animation: heartbeat 1.5s ease-in-out infinite; transform-origin: center; }
    @keyframes heartbeat { 0%, 20%, 40%, 100% { transform: scale(1); } 10%, 30% { transform: scale(1.3); } }
    .quote { font-size: 1rem; margin-top: 1rem; max-width: 80%; line-height: 1.5; font-style: italic; min-height: 2.5rem; white-space: pre-wrap; position: relative; }
    .quote::after { content: "|"; position: absolute; animation: blink 1s infinite; }
    @keyframes blink { 0%, 50% { opacity: 1; } 51%, 100% { opacity: 0; } }
    .music-control { margin-top: 1.5rem; }
    .music-control button { padding: .6rem 1.2rem; font-size: 1rem; border: none; border-radius: .5rem; cursor: pointer; background-color: rgba(255,255,255,.2); color: white; transition: .3s; }
    .music-control button:hover { background-color: rgba(255,255,255,.4); }
    .particles { position: fixed; inset: 0; pointer-events: none; z-index: 0; }
    audio { display: none; }
  </style>
</head>
<body>
  <div class="overlay"></div>
  <canvas class="particles"></canvas>
  <div class="content">
    <h1>å’Œè“‰è›‹åœ¨ä¸€èµ·çš„ç¬¬ <span id="loveDays"></span> å¤© <span class="heart">â¤ï¸</span></h1>
    <div class="timer" id="beijingTime"></div>
    <div class="quote" id="quote"></div>
    <div class="music-control">
      <button id="musicToggle">æ’­æ”¾éŸ³ä¹ ğŸµ</button>
    </div>
  </div>
  <audio id="bgm" loop>
    <source src="music.mp3" type="audio/mpeg">
  </audio>

  <script>
    const CONFIG = {
      startDate: new Date("2024-02-09T00:00:00"),
      quotes: [
        "æœ‰ä½ åœ¨çš„æ—¥å­ï¼Œæ¯ä¸€å¤©éƒ½æ˜¯æƒ…äººèŠ‚ã€‚",
        "ä½ ç¬‘èµ·æ¥çš„æ ·å­ï¼Œæ˜¯æˆ‘è§è¿‡æœ€ç¾çš„é£æ™¯ã€‚",
        "é™ªä½ èµ°è¿‡çš„æ¯ä¸€æ­¥ï¼Œéƒ½æ˜¯æˆ‘æœ€çè´µçš„å›å¿†ã€‚",
        "æ—¶é—´ä¼šè€å»ï¼Œä½†æˆ‘ä»¬çš„çˆ±ä¸ä¼šã€‚",
        "æ˜Ÿæ²³æ»šçƒ«ï¼Œä½ æ˜¯äººé—´ç†æƒ³ã€‚",
        "æˆ‘è§è¿‡çš„é£æ™¯å¾ˆå¤šï¼Œä½†æœ€å–œæ¬¢çš„è¿˜æ˜¯ä½ ã€‚",
        "æˆ‘çš„çœ¼é‡Œåªæœ‰ä½ ï¼Œå…¶ä»–äººéƒ½åªæ˜¯èƒŒæ™¯ã€‚",
        "æˆ‘çˆ±ä½ ï¼Œæ˜¯ä»æˆ‘çœ‹åˆ°ä½ çš„é‚£ä¸€åˆ»å¼€å§‹ï¼Œç›´åˆ°æ°¸è¿œã€‚",
        "æ¯æ¬¡çœ‹åˆ°ä½ ç¬‘ï¼Œæˆ‘çš„ä¸–ç•Œéƒ½äº®äº†èµ·æ¥ã€‚",
        "æ²¡æœ‰ä½ ï¼Œæˆ‘çš„ä¸–ç•Œç©ºæ— ä¸€ç‰©ã€‚",
        "ä½ æ˜¯æˆ‘ä»Šç”Ÿæœ€ç¾çš„å¥‡è¿¹ã€‚",
        "æ¯ä¸€ç§’é’Ÿï¼Œå’Œä½ åœ¨ä¸€èµ·ï¼Œéƒ½æ˜¯å¹¸ç¦ã€‚",
        "é™ªä½ åˆ°è€ï¼Œæ˜¯æˆ‘å”¯ä¸€çš„æ„¿æœ›ã€‚",
        "åœ¨æˆ‘å¿ƒé‡Œï¼Œä½ æ˜¯å…¨ä¸–ç•Œæœ€é‡è¦çš„äººã€‚",
        "ä½ çš„çœ¼ç›æ˜¯æˆ‘æœ€æƒ³åœç•™çš„åœ°æ–¹ã€‚",
        "æ¯ä¸€å¤©é†’æ¥ï¼Œçœ‹åˆ°ä½ å°±æ˜¯æˆ‘æœ€å¹¸ç¦çš„äº‹æƒ…ã€‚",
        "æˆ‘çˆ±ä½ ï¼Œæ°¸è¿œä¸ä¼šæ”¹å˜ã€‚",
        "ä½ æ˜¯æˆ‘æ‰€æœ‰æ€ç»ªçš„æºæ³‰ã€‚",
        "å¦‚æœæ²¡æœ‰ä½ ï¼Œæˆ‘çš„ä¸–ç•Œä¼šæ²¡æœ‰è‰²å½©ã€‚",
        "ä½ æ˜¯æˆ‘ç”Ÿå‘½ä¸­æœ€ç”œèœœçš„å›°æ‰°ã€‚",
        "ä½ çš„å¾®ç¬‘ï¼Œæ˜¯æˆ‘æ‰€æœ‰çƒ¦æ¼çš„è§£è¯ã€‚",
        "è·Ÿä½ åœ¨ä¸€èµ·çš„æ¯ä¸€åˆ»ï¼Œéƒ½å¥½åƒæ—¶é—´éƒ½åœæ­¢äº†ã€‚",
        "æˆ‘çš„å¿ƒé‡Œåªæœ‰ä½ ï¼Œå…¶ä»–äººéƒ½ä¸é‡è¦ã€‚",
        "çˆ±ä½ ï¼Œæ˜¯æˆ‘äººç”Ÿæœ€å¥½çš„å†³å®šã€‚",
        "æˆ‘æ„¿æ„ä¸ºä½ åšä»»ä½•äº‹ï¼Œå› ä¸ºä½ å€¼å¾—ã€‚",
        "æ— è®ºä¸–ç•Œæ€æ ·å˜ï¼Œåªæœ‰ä½ æ°¸è¿œåœ¨æˆ‘å¿ƒé‡Œã€‚",
        "æˆ‘ä¸€ç”Ÿçš„æ¸©æŸ”ï¼Œå…¨éƒ¨éƒ½ç»™ä½ ã€‚",
        "ä½ çš„æ¯ä¸€ä¸ªç»†å¾®çš„åŠ¨ä½œéƒ½è®©æˆ‘å¿ƒåŠ¨ã€‚",
        "ä½ æ˜¯æˆ‘æ­¤ç”Ÿæœ€å¤§çš„å¹¸è¿ã€‚",
        "åœ¨ä¸€èµ·ï¼Œæ˜¯æœ€ç¾å¥½çš„ç›¸é‡ã€‚",
        "å¦‚æœçˆ±æœ‰æœŸé™ï¼Œé‚£ä¹ˆæˆ‘æ„¿æ„çˆ±ä½ ä¸€ç”Ÿä¸€ä¸–ã€‚",
        "ä½ åœ¨æˆ‘å¿ƒä¸­æ°¸è¿œå æ®æœ€é‡è¦çš„ä½ç½®ã€‚",
        "æˆ‘çˆ±ä½ æ¯”æ˜¨å¤©æ›´æ·±ï¼Œä½†æ¯”æ˜å¤©æµ…ã€‚",
        "åªè¦å’Œä½ åœ¨ä¸€èµ·ï¼Œå“ªé‡Œéƒ½å¥½ã€‚",
        "æ— è®ºä½•æ—¶ä½•åœ°ï¼Œä½ éƒ½æ˜¯æˆ‘æœ€çˆ±çš„é‚£ä¸ªäººã€‚",
        "æ—¶é—´èƒ½æ”¹å˜ä¸€åˆ‡ï¼Œä½†å®ƒæ”¹å˜ä¸äº†æˆ‘å¯¹ä½ çš„çˆ±ã€‚",
        "ä½ çš„ä¸€å¥â€œæˆ‘çˆ±ä½ â€ï¼Œå°±æ˜¯æˆ‘ä¸€ç”Ÿæœ€ç¾çš„æ‰¿è¯ºã€‚",
        "æˆ‘çš„ä¸–ç•Œå› ä½ è€Œä¸°å¯Œï¼Œä½ æ˜¯æˆ‘ç”Ÿå‘½ä¸­æœ€è€€çœ¼çš„æ˜Ÿã€‚",
        "ä¸ä½ ç›¸è¯†ï¼Œèƒœè¿‡ä¸€åˆ‡çš„ç¾å¥½ã€‚",
        "åªè¦ä½ åœ¨ï¼Œä¸–ç•Œå°±è¶³å¤Ÿå®Œç¾ã€‚",
        "ä½ æ˜¯æˆ‘ç”Ÿå‘½ä¸­æœ€ç¾çš„è®°å¿†ï¼Œæ— æ³•å¿˜æ€€ã€‚",
        "ä½ çš„ç¬‘ï¼Œæ˜¯æˆ‘æœ€æƒ³å®ˆæŠ¤çš„é£æ™¯ã€‚",
        "é‡è§ä½ æ˜¯æˆ‘ç”Ÿå‘½ä¸­çš„å¥‡è¿¹ã€‚",
        "æˆ‘çˆ±ä½ ï¼Œç›´åˆ°æ—¶é—´çš„å°½å¤´ã€‚",
        "ä½ æ˜¯æˆ‘å¿ƒä¸­çš„ä¸€æœµèŠ±ï¼Œæ°¸è¿œä¸ä¼šå‡‹è°¢ã€‚",
        "æ¯å¤©é†’æ¥ç¬¬ä¸€ä»¶äº‹å°±æ˜¯æƒ³ä½ ï¼Œæœ€åä¸€ä»¶äº‹ä¹Ÿæ˜¯ä½ ã€‚",
        "ä½ å°±æ˜¯æˆ‘æ‰€æœ‰çš„å¹¸ç¦ï¼Œå”¯ä¸€çš„å¹¸ç¦ã€‚",
        "åœ¨æˆ‘å¿ƒé‡Œï¼Œä½ æ˜¯å”¯ä¸€çš„ç‹è€…ã€‚",
        "æ¯ä¸€å¤©æˆ‘éƒ½åœ¨ç­‰ä½ å›çœ¸ï¼Œé‚£æ˜¯æˆ‘æœ€æœŸå¾…çš„ç¬é—´ã€‚",
        "çˆ±ä½ æ˜¯æˆ‘è¿™è¾ˆå­æœ€å¹¸è¿çš„äº‹ã€‚",
        "æ¯ä¸€æ¬¡å‘¼å¸éƒ½è§‰å¾—ä½ åœ¨æˆ‘èº«è¾¹ã€‚",
        "æ— è®ºä½•æ—¶ä½•åœ°ï¼Œå¿ƒé‡Œå§‹ç»ˆåªæœ‰ä½ ã€‚",
        "ä½ æ˜¯æˆ‘äººç”Ÿçš„æ„ä¹‰ï¼Œçˆ±ä½ æ˜¯æˆ‘æ°¸æ’çš„èª“è¨€ã€‚",
        "åªè¦ä½ åœ¨ï¼Œä¸–ç•Œéƒ½ä¸å†å­¤å•ã€‚",
        "æˆ‘çˆ±ä½ ï¼Œçˆ±ä½ ä¸€ç”Ÿä¸€ä¸–ã€‚",
        "ä¸ç®¡ä¸–äº‹å¦‚ä½•å˜è¿ï¼Œæˆ‘ä¼šä¸€ç›´çˆ±ä½ ã€‚",
        "ä½ å°±æ˜¯æˆ‘ç”Ÿæ´»ä¸­çš„å…¨éƒ¨ï¼Œçˆ±ä½ ç›´åˆ°æ°¸è¿œã€‚"
      ]
    };

    const loveDaysEl = document.getElementById("loveDays");
    const beijingTimeEl = document.getElementById("beijingTime");
    const quoteEl = document.getElementById("quote");
    const audio = document.getElementById("bgm");
    const toggleBtn = document.getElementById("musicToggle");
    const canvas = document.querySelector(".particles");
    const ctx = canvas.getContext("2d");
    let particles = [];

    function resizeCanvas() {
      canvas.width = innerWidth;
      canvas.height = innerHeight;
      particles = Array.from({ length: 30 }, createParticle);
    }

    function createParticle() {
      return {
        x: Math.random() * canvas.width,
        y: Math.random() * canvas.height,
        size: 10 * Math.random() + 10,
        speed: Math.random() + 0.5,
        opacity: Math.random()
      };
    }

    function drawParticles() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      ctx.fillStyle = "rgba(255,100,150,0.6)";
      particles.forEach(p => {
        ctx.globalAlpha = p.opacity;
        ctx.fillText("â¤", p.x, p.y);
        p.y -= p.speed;
        if (p.y < -20) Object.assign(p, createParticle(), { y: canvas.height + 10 });
      });
      ctx.globalAlpha = 1;
    }

    function updateDays() {
      loveDaysEl.textContent = Math.floor((Date.now() - CONFIG.startDate) / 86400000);
    }

    function updateBeijingTime() {
      const beijing = new Date();
      const beijingOffset = 8 * 60; // åŒ—äº¬æ—¶é—´ç›¸å¯¹äºUTCçš„æ—¶å·®ä¸º+8å°æ—¶ï¼Œå•ä½æ˜¯åˆ†é’Ÿ
      beijing.setMinutes(beijing.getMinutes() + beijingOffset);  // åŠ ä¸Šæ—¶å·®ï¼Œè°ƒæ•´ä¸ºåŒ—äº¬æ—¶é—´
      beijingTimeEl.textContent = beijing.toLocaleString('zh-CN', {
        hour: '2-digit',
        minute: '2-digit',
        second: '2-digit',
        hour12: false
      });
    }

    function getRandomQuote() {
      const randomIndex = Math.floor(Math.random() * CONFIG.quotes.length);
      quoteEl.textContent = CONFIG.quotes[randomIndex];
    }

    function tryAutoPlay() {
      if (audio.paused) audio.play().catch(() => console.log("æ— æ³•è‡ªåŠ¨æ’­æ”¾"));
    }

    toggleBtn.addEventListener("click", () => {
      if (audio.paused) {
        audio.play();
        toggleBtn.textContent = "æš‚åœéŸ³ä¹ â¸ï¸";
      } else {
        audio.pause();
        toggleBtn.textContent = "æ’­æ”¾éŸ³ä¹ ğŸµ";
      }
    });

    function mainLoop() {
      resizeCanvas();
      drawParticles();
      updateDays();
      updateBeijingTime();
      requestAnimationFrame(mainLoop);
    }

    // åˆå§‹åŒ–
    window.addEventListener("resize", resizeCanvas);
    getRandomQuote();
    mainLoop();
    tryAutoPlay();
  </script>
</body>
</html>
